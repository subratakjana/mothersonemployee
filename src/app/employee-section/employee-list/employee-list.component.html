<section class="main-content">
  <app-sidenav></app-sidenav>
  <app-header></app-header>
  <div class="main-body py-5 pe-5">
    <div class="container-fluid">
      <div class="row">
        <div class="col-xxl-12 col-xl-12 col-lg-12 col-sm-12 col-12">
          <div class="page-title-box d-sm-flex align-items-center justify-content-between pb-4">
            <h4 class="fw-bold h5 m-0">Employee List <a href="javascript:void(0);" class="ms-2"
                [popover]="'This is the content of the popover!'" [adaptivePosition]="true" container="body"
                boundariesElement="viewport" placement="right" triggers="mouseenter:mouseleave"><i
                  class="bi bi-bookmark primary"></i></a>
            </h4>
            <div class="heading-right">
              <div class="d-flex align-items-center justify-content-end gap-5">
                <div class="uploadsec fw-bold lh-md">
                  <i class="bi bi-upload h4 fw-bolder me-2"></i> Upload Bulk Photos
                </div>
                <div class="add-employee">
                  <a class="btn btn-primary rounded-5  px-4 py-2 m-0 h5 lh-md fw-medium text-white" role="button"
                    aria-disabled="true" (click)="addemployee()">Add Employee</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div class="shadow rounded">
        <div class="tabsec">
          <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
              <button class="nav-link" [class.active]="activeTab === 'All'" id="nav-all-tab"
                (click)="filterCustomers('All')" type="button" role="tab" aria-controls="nav-all"
                aria-selected="true">All (<span>{{ totalCustomers }}</span>)</button>
              <button class="nav-link" [class.active]="activeTab === 'Active'" id="nav-active-tab"
                (click)="filterCustomers('Active')" type="button" role="tab" aria-controls="nav-active"
                aria-selected="false">Active (<span>{{ activeCustomers }}</span>)</button>
              <button class="nav-link" [class.active]="activeTab === 'Inactive'" id="nav-inactive-tab"
                (click)="filterCustomers('Inactive')" type="button" role="tab" aria-controls="nav-inactive"
                aria-selected="false">Inactive (<span>{{ inactiveCustomers }}</span>)</button>
              <button class="nav-link" [class.active]="activeTab === 'Draft'" id="nav-draft-tab"
                (click)="filterCustomers('Draft')" type="button" role="tab" aria-controls="nav-draft"
                aria-selected="false">Draft (<span>{{ draftCustomers }}</span>)</button>
            </div>
          </nav>
          <div class="tab-content">
            <div class="tab-pane fade show active" id="nav-all" role="tabpanel" aria-labelledby="nav-all-tab">
              <div class="tabel-sec">
                <div class="row">
                  <div class="col-12 col-md-12 col-sm-12 col-lg-12">
                    <p-table [value]="filteredCustomers" styleClass="p-datatable-striped"
                      [globalFilterFields]="['id', 'name', 'department', 'designation', 'gender', 'reporting', 'company', 'group', 'status']"
                      [(selection)]="selectedCustomers" dataKey="id" [rows]="8" [paginator]="true"
                      stateStorage="session" stateKey="statedemo-session">
                      <ng-template pTemplate="caption">
                        <div class="row align-items-center justify-content-between">
                          <div class="col-md-8 col-sm-8 col-lg-8 col-12">
                            <div class="row align-items-end gx-5">
                              <div class="col-lg-3 col-md-3 col-sm-3 col-12">
                                <div class="empfiled">
                                  <div class="input-group">
                                    <label for="UnitId" class="form-label">Unit Id</label>
                                    <div class="input-group select-icon">
                                      <select id="UnitId" class="form-select" [(ngModel)]="selectedUnitId">
                                        <option value="All" disabled selected>All</option>
                                        <option *ngFor="let id of uniqueCustomerIds" [value]="id">{{ id }}</option>
                                      </select>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-lg-3 col-md-3 col-sm-3 col-12">
                                <div class="empfiled">
                                  <div class="input-group">
                                    <label for="Employetype" class="form-label">Employee type</label>
                                    <div class="input-group select-icon">
                                      <select id="Employetype" class="form-select" [(ngModel)]="selectedEmployeeType">
                                        <option value="All" disabled selected>All</option>
                                        <option *ngFor="let department of uniqueDepartments" [value]="department">{{ department }}</option>
                                      </select>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-lg-3 col-md-3 col-sm-3 col-12">
                                <div class="empfiled">
                                  <div class="input-group">
                                    <label for="Employeename" class="form-label">Employee name
                                      (Id)</label>
                                    <div class="input-group select-icon">
                                      <select id="Employeename" class="form-select" [(ngModel)]="selectedEmployeeName">
                                        <option value="All" disabled selected>All</option>
                                        <option *ngFor="let name of uniqueEmployeeNames" [value]="name">{{ name }}</option>
                                      </select>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-lg-3 col-md-3 col-sm-3 col-12">
                                <button role="button" aria-disabled="true"
                                  class="btn btn-primary rounded-5 px-3 py-2 m-0 h5 lh-md fw-normal text-white" (click)="getData()">Get Data</button>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-8 col-sm-4 col-lg-4 col-12">
                            <div class="d-flex justify-content-end align-items-center">
                              <p-iconField iconPosition="left">
                                <p-inputIcon>
                                  <i class="pi pi-search "></i>
                                </p-inputIcon>
                                <input pInputText type="text" (input)="onGlobalFilter($event)" placeholder="Search" />
                              </p-iconField>
                              <div class="download-icon" (click)="exportToExcel()">
                                <svg-icon src="../../../assets/icons/empolyee/download.svg"></svg-icon>
                              </div>
                            </div>
                          </div>
                        </div>
                      </ng-template>
                      <ng-template pTemplate="header">
                        <tr>
                          <th pSortableColumn="id">
                            Emp. Id
                            <p-sortIcon field="id" />
                          </th>
                          <th pSortableColumn="name">
                            Emp. Name
                            <p-sortIcon field="name" />
                          </th>
                          <th pSortableColumn="department">
                            Department
                            <p-sortIcon field="department" />
                          </th>
                          <th pSortableColumn="designation">
                            Designation
                            <p-sortIcon field="designation" />
                          </th>
                          <th pSortableColumn="gender">
                            Gender
                            <p-sortIcon field="gender" />
                          </th>
                          <th pSortableColumn="reporting_manager">
                            Reporting Manager
                            <p-sortIcon field="reporting_manager" />
                          </th>
                          <th pSortableColumn="company_doj">
                            Company DOJ
                            <p-sortIcon field="company_doj" />
                          </th>
                          <th pSortableColumn="group_doj">
                            Group DOJ
                            <p-sortIcon field="group_doj" />
                          </th>
                          <th pSortableColumn="status">
                            Status
                            <p-sortIcon field="status" />
                          </th>
                          <th pSortableColumn="action">
                            Action
                          </th>
                        </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-customer>
                        <tr [pSelectableRow]="customer">
                          <td>
                            <span class="p-column-title"> {{ customer.id }}</span>
                            <strong> {{ customer.id }}</strong>
                          </td>
                          <td>
                            <span class="p-column-title"> {{ customer.name }}</span>
                            {{ customer.name }}
                          </td>
                          <td>
                            <span class="p-column-title">{{ customer.department }}</span>
                            {{ customer.department }}
                          </td>
                          <td>
                            <span class="p-column-title">{{ customer.designation }}</span>
                            {{ customer.designation }}
                          </td>
                          <td>
                            <span class="p-column-title">{{ customer.gender }}</span>
                            {{ customer.gender }}
                          </td>
                          <td>
                            <span class="p-column-title">{{ customer.reporting_manager
                                    }}</span>
                            {{ customer.reporting_manager }}
                          </td>
                          <td>
                            <span class="p-column-title">{{ customer.company_doj }}</span>
                            {{ customer.company_doj }}
                          </td>
                          <td>
                            <span class="p-column-title">{{ customer.Group_doj }}</span>
                            {{ customer.Group_doj }}
                          </td>
                          <td>
                            <span class="p-column-title">{{ customer.status }}</span>
                            {{ customer.status }}
                          </td>
                          <td>
                            <i class="bi bi-three-dots-vertical"></i>
                          </td>
                        </tr>
                      </ng-template>
                      <ng-template pTemplate="emptymessage" #emptyMessage>
                        <tr>
                          <td colspan="4">No customers found.</td>
                        </tr>
                      </ng-template>
                    </p-table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
